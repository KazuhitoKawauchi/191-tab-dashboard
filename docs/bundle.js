(function(){"use strict";const p=[{担当者名:"佐藤",売上金額:95e4,売上予算:1e6,加工高:5e5,加工高予算:5e5,加工高率:"52.6%",加工高達成率:"100%"},{担当者名:"鈴木",売上金額:64e4,売上予算:8e5,加工高:34e4,加工高予算:4e5,加工高率:"53.1%",加工高達成率:"85%"},{担当者名:"田中",売上金額:115e4,売上予算:12e5,加工高:57e4,加工高予算:6e5,加工高率:"49.6%",加工高達成率:"95%"}];function g(a,c){const t=document.createElement("div");t.innerHTML=`<h3>${c} 担当者別ダミー表示</h3>`,a.appendChild(t);const d=document.createElement("div");d.style.display="flex",d.style.justifyContent="center",d.style.gap="32px",d.style.flexWrap="wrap",a.appendChild(d);const n=document.createElement("canvas");n.width=400,n.height=260,d.appendChild(n);const l=document.createElement("canvas");l.width=400,l.height=260,d.appendChild(l);const e=p.map(o=>o.担当者名);new Chart(n.getContext("2d"),{type:"bar",data:{labels:e,datasets:[{label:"売上予算",data:p.map(o=>o.売上予算/1e3),backgroundColor:"#66ccff"},{label:"売上金額",data:p.map(o=>o.売上金額/1e3),backgroundColor:"#3399ff"}]},options:{responsive:!1,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}}),new Chart(l.getContext("2d"),{type:"bar",data:{labels:e,datasets:[{label:"加工高予算",data:p.map(o=>o.加工高予算/1e3),backgroundColor:"#ffcc66"},{label:"加工高",data:p.map(o=>o.加工高/1e3),backgroundColor:"#ff9966"}]},options:{responsive:!1,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})}function y(a,c){const t=document.createElement("p");t.innerText=`得意先別（${c}）：今後対応予定です。`,a.appendChild(t)}function f(a,c){const t=document.createElement("p");t.innerText=`品名別（${c}）：今後対応予定です。`,a.appendChild(t)}function E(a,c){const t=document.createElement("p");t.innerText=`年月別（${c}）：今後対応予定です。`,a.appendChild(t)}function k(a){const c=document.createElement("div");c.className="tab-menu",c.innerHTML=`
    <button data-tab="employee">担当者別</button>
    <button data-tab="customer">得意先別</button>
    <button data-tab="product">品名別</button>
    <button data-tab="month">年月別</button>
  `,a.appendChild(c);const t=document.createElement("div");t.id="tab-content",a.appendChild(t);const d={employee:g,customer:y,product:f,month:E},n=l=>{var r,i,b,m;t.innerHTML="",c.querySelectorAll("button[data-tab]").forEach(h=>{h.classList.toggle("active",h.dataset.tab===l)});const e=document.getElementById("select-year").value,o=document.getElementById("select-month").value,s=`${e}-${o}`,u={quarter:(r=document.getElementById("chk-quarter"))==null?void 0:r.checked,upper:(i=document.getElementById("chk-upper"))==null?void 0:i.checked,lower:(b=document.getElementById("chk-lower"))==null?void 0:b.checked,full:(m=document.getElementById("chk-full"))==null?void 0:m.checked};d[l](t,s,u)};c.addEventListener("click",l=>{const e=l.target.dataset.tab;e&&d[e]&&n(e)})}function v(a,c,t){var l,e,o,s;const d={employee:g,customer:y,product:f,month:E},n={quarter:(l=document.getElementById("chk-quarter"))==null?void 0:l.checked,upper:(e=document.getElementById("chk-upper"))==null?void 0:e.checked,lower:(o=document.getElementById("chk-lower"))==null?void 0:o.checked,full:(s=document.getElementById("chk-full"))==null?void 0:s.checked};a.innerHTML="",d[c](a,t,n)}const C=Object.freeze(Object.defineProperty({__proto__:null,initTabs:k,rebuildTab:v},Symbol.toStringTag,{value:"Module"}));console.log("📦 bundle.js updated: v1.3.22 - 2025/07/01"),window.__BUNDLE_VERSION__="v1.3.22 - 2025/07/01",function(){const a=document.createElement("script");a.src="https://cdn.jsdelivr.net/npm/chart.js",a.onload=()=>{const t=()=>{if(document.getElementById("custom-hide-kintone-list"))return;const n=document.createElement("style");n.id="custom-hide-kintone-list",n.innerHTML=`
        .gaia-argoui-app-index-table,
        .gaia-argoui-app-index-list,
        .gaia-argoui-app-index-pane,
        .gaia-argoui-app-index-content,
        .gaia-argoui-app-index-no-record,
        .recordlist-gaia,
        .gaia-argoui-app-index-pager {
          display: none !important;
        }
      `,document.head.appendChild(n)},d=()=>{const n=kintone.app.getHeaderSpaceElement(),l=document.createElement("div");if(l.id="tab-dashboard",n.appendChild(l),k(l),!document.getElementById("selector-wrap")){const e=document.createElement("div");e.id="selector-wrap",e.style.backgroundColor="#e6f2ff",e.style.padding="8px",e.style.borderRadius="4px",e.style.marginTop="8px",e.innerHTML=`
          表示年月：
          <select id="select-year"></select>
          <select id="select-month"></select>
          <button id="dashboard-reload" style="margin-left:8px; padding:4px 8px;">再表示</button>
          <div style="margin-top:8px;">
            <label><input type="checkbox" id="chk-quarter"> 四半期</label>
            <label style="margin-left:12px;"><input type="checkbox" id="chk-upper"> 上半期</label>
            <label style="margin-left:12px;"><input type="checkbox" id="chk-lower"> 下半期</label>
            <label style="margin-left:12px;"><input type="checkbox" id="chk-full"> 全期</label>
          </div>
        `,n.appendChild(e);const o=e.querySelector("#select-year"),s=e.querySelector("#select-month"),u=new Date;[u.getFullYear(),u.getFullYear()-1,u.getFullYear()-2].forEach(r=>{const i=document.createElement("option");i.value=r,i.textContent=`${r}年`,o.appendChild(i)});for(let r=1;r<=12;r++){const i=document.createElement("option");i.value=("0"+r).slice(-2),i.textContent=`${r}月`,s.appendChild(i)}o.value=u.getFullYear(),s.value=("0"+(u.getMonth()+1)).slice(-2),e.querySelector("#dashboard-reload").addEventListener("click",()=>{var h;const r=o.value,i=s.value,b=`${r}-${i}`,m=(h=document.querySelector(".tab-menu button.active"))==null?void 0:h.dataset.tab;if(m){const x=document.getElementById("tab-content");x.innerHTML="",Promise.resolve().then(()=>C).then(T=>{T.rebuildTab(x,m,b)})}})}};kintone.events.on("app.record.index.show",n=>(Number(n.appId)!==191||document.getElementById("tab-dashboard")||(t(),d()),n))},document.head.appendChild(a)}()})();
